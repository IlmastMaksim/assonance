{% extends "layout.html" %}

{% block content %}

  <section class="notification-panel">
        <span class="notification-header-btns">
            {% if current_user.is_authenticated %}
                {% if current_user.has_roles("musician") %}
                    <a href="#" class=" btn btn-dark btn-xs">My notifications</a>
                {% elif current_user.has_roles("band") %}
                    <a href="#" class=" btn btn-dark btn-xs">My notifications</a>
                {% endif %}
                <a href="/notifications/new-notification" class=" btn btn-success btn-xs">Create new notification</a>
            {% else %}
                <span>One need to be authorized in order to create notifications...</span>
            {% endif %}
        </span>
        <div class="notification-search input-group">
            <input type="text" placeholder="Genres, band name, location..." class="input-sm form-control">
            <span class="notification-search-btn input-group-btn"><button type="button" class="btn btn-sm btn-info">Search</button> </span>
        </div>
        <table class="table table-hover p-table">
            <thead>
            <tr>
                <th>Name</th>
                <th>Band Title</th>
                <th>Instrument</th>
                <th>Genres</th>
                <th>Location</th>
                <th>Likes</th>
            </tr>
            </thead>
            <tbody>
                {% for notification in notifications %}
                <tr>
                    <td class="notification-name">
                        <a href="project_details.html">{{notification.title}}</a>
                        <br>
                        <small>Posted {{notification.date_created}}</small>
                    </td>
                    <td class="notification-instrument">
                        Metallica
                    </td>
                    <td class="notification-instrument">
                        {{notification.instruments}}
                    </td>
                    <td class="notification-genres">
                        {{notification.preferable_genres}}
                    </td>
                    <td class="notification-locations">
                        <span class="label label-primary">{{notification.location}}</span>
                    </td>
                    <td class="notification-likes">
                        {{notification.likes}}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </section>

{% endblock %}